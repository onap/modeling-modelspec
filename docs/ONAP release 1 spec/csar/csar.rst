===================================
ONAP CSAR Specification (Amsterdam)
===================================

CSAR for VNF Onboarding
-----------------------
This is the currently expected structure supported by SDC, which is provided by VNF Vendor directly or via VNF Market (through VNF SDK) to SDC for VNF onboarding in design time.

.. |CSAR for VNF Onboarding| image:: csar-sdc-input.JPG

The files/directories under the root of CSAR include:

* **MainServiceTemplate.mf** is a map representing the different parts of the CSAR structure.
* **MainServiceTemplate.yaml** is a copy of the main service template located under Definitions directory.
* **TOSCA-Metadate** is a directory which contains **TOSCA.meta** file, the metadata regarding the CSAR structure.
* **Artifacts** is a directory which contains all the recoginzable artifacts (except those of type *Other*). It should be noted that images are not supported in ONAP Amsterdam as artifacts in CSAR. And all the artifacts are further classified as either *Informational* or *Deployment*, and are located in the sub-directories respectively. Artifacts located in the root directory or un-recognized folders will be classified as *Other*.
* **Definitions** is a directory which contains all the TOSCA yaml files.

The files/directories under the *Artifacts* directory further include:

* **Informational** directory which holds all the informative artifacts supported directly by SDC.
* **Deployment** directory which holds all the deployment artifacts supported directly by SDC.
* (Optional) **VFC TOSCA <name>** directory for each VFC (i.e. VF Component) which holds all the artifacts for the VFC **<name>**.

The files/directories under each **VFC TOSCA <name>** sub-directory further include:

* **Informational** directory which holds all the informative artifacts at the VFC level.
* **Deployment**  directory which holds all the deployment artifacts at the VFC level.


CSAR for VNF Life Cycle Management
----------------------------------
This section describes the CSAR generated by SDC for VNF and to be consumed by SO/VF-C/etc. for VNF life cycle management in run-time. 

.. |CSAR for VNF LCM| image:: csar-sdc-output-vf.JPG

CSAR for Service Life Cyclem Management
---------------------------------------
This section describes the CSAR generated by SDC for Network Service or End-to-End Service orchestration in run time.

.. |CSAR for Service LCM| image:: csar-sdc-output-service.JPG

Artifacts supported by SDC
--------------------------
This section enumerates the artifacts types supported by SDC.
Artifacts at the root directory or unrecognized folder(s) will be classified as type Other.

+------------------------+-------------+---------------------------------+------------------+ 
|       Type             | Category    |         Description             |Component Types   | 
+========================+=============+=================================+==================+ 
|  HEAT                  | Deployment  | HEAT Base Template (yaml)       |      VF          |
+------------------------+-------------+---------------------------------+------------------+
|  HEAT_VOL              | Deployment  | HEAT Template for volumes (yaml)|      VF          |
+------------------------+-------------+---------------------------------+------------------+
|  HEAT_NET              | Deployment  | HEAT Template for network (yaml)|      VF          |
+------------------------+-------------+---------------------------------+------------------+
|  HEAT_ENV              | Deployment  |HEAT Environment artifacts (yaml)|      VF          |
+------------------------+-------------+---------------------------------+------------------+
|  HEAT_ARTIFACT         | Deployment  | Supplementary artifacts in HEAT |      VF          |
+------------------------+-------------+---------------------------------+------------------+
|  HEAT_NESTED           | Deployment  | HEAT refered by another HEAT    |      VF          |
+------------------------+-------------+---------------------------------+------------------+
|  YANG_XML              |Informational| YANG asset based XML            |Service/VF/VFC    |
+------------------------+-------------+---------------------------------+------------------+
|  VNF_CATALOG           |Informational| YANG asset based XML            |Service/VF/VFC    |
+------------------------+-------------+---------------------------------+------------------+
|MODEL_INVENTORY_PROFILE |Informational| Inventory asset (XML)           |Service/VF/VFC    |
+------------------------+-------------+---------------------------------+------------------+
|MODEL_INVENTORY_PROFILE |Informational| Inventory asset named query spec|Service/VF/VFC    |
+------------------------+-------------+---------------------------------+------------------+
|  VF_LICENSE            |Informational| VF License artifact             |      VF          |
+------------------------+-------------+---------------------------------+------------------+
|  VENDOR_LICENSE        |Informational| Vendor License artifact         |      VF          |
+------------------------+-------------+---------------------------------+------------------+
|  APPC_CONFIG           |Informational| Configuration artifact for APP-C|      VF          |
+------------------------+-------------+---------------------------------+------------------+ 
|  VF_MODULES_METADATA   |Informational| JSON artifact for VF Modules    |Component instance|
+------------------------+-------------+---------------------------------+------------------+
|  DCAE_TOSCA            |Deployment   | DCAE TOSCA Template (yaml)      |    VF/VFCMT      |
+------------------------+-------------+---------------------------------+------------------+
|  DCAE_JSON             |Deployment   | JSON for DCAE component/template|    VF/VFCMT      |
+------------------------+-------------+---------------------------------+------------------+
|     Other              |             | Artifacts at the Root or other  | Service/VF/VFC   |
|                        |             | unrecognized folders.           |                  |
+------------------------+-------------+---------------------------------+------------------+ 
